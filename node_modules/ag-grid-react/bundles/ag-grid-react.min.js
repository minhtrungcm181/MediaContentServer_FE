!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("prop-types"),require("react-dom/server"),require("react-dom"),require("react"),require("ag-grid-community")):"function"==typeof define&&define.amd?define(["exports","prop-types","react-dom/server","react-dom","react","ag-grid-community"],t):t(e.AgGridReact={},e.PropTypes,e.ReactDOMServer,e.ReactDOM,e.React,e.agGrid)}(this,function(e,t,s,l,Z,J){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var r="default"in l?l.default:l,Q="default"in Z?Z.default:Z;class n extends class{}{constructor(e,t,r){super(),this.portal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.statelessComponent=this.isStateless(this.reactComponent)}getGui(){return this.eParentElement}destroy(){return this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(e){var t=this.portalManager.getComponentWrappingElement(),t=document.createElement(t||"div");return t.classList.add("ag-react-container"),e.reactContainer=t}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses)&&this.componentInstance.getReactContainerClasses()&&this.componentInstance.getReactContainerClasses().forEach(e=>this.eParentElement.classList.add(e))}statelessComponentRendered(){return 0<this.eParentElement.childElementCount||0<this.eParentElement.childNodes.length}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){var t=this.getFrameworkComponentInstance();return!!t&&null!==t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){var r,n=this.getFrameworkComponentInstance();return this.isStatelessComponent()?this.fallbackMethod(e,t&&t[0]?t[0]:{}):n?(r=n[e])?r.apply(n,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0:void setTimeout(()=>this.callMethod(e,t))}addMethod(e,t){this[e]=t}}let a=0;function o(){return"agPortalKey_"+ ++a}class i extends n{constructor(e,t,r,n){super(e,r,n),this.staticMarkup=null,this.staticRenderTime=0,this.parentComponent=t}init(t){return this.eParentElement=this.createParentElement(t),this.renderStaticMarkup(t),new J.AgPromise(e=>this.createReactComponent(t,e))}createReactComponent(e,t){this.isStatelessComponent()||(e.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses(),this.removeStaticMarkup()});e=Z.createElement(this.reactComponent,e),e=l.createPortal(e,this.eParentElement,o());this.portal=e,this.portalManager.mountReactPortal(e,this,e=>{t(e),this.isStatelessComponent()&&(this.isSlowRenderer()&&this.removeStaticMarkup(),setTimeout(()=>{this.removeStaticMarkup()}))})}fallbackMethodAvailable(e){return!1}fallbackMethod(e,t){}isSlowRenderer(){return this.staticRenderTime>=i.SLOW_RENDERING_THRESHOLD}isNullValue(){return""===this.staticMarkup}renderStaticMarkup(e){if(!this.parentComponent.isDisableStaticMarkup()&&this.componentType.cellRenderer){var t=console.error,e=Z.createElement(this.reactComponent,e);try{console.error=()=>{};var r=Date.now(),n=s.renderToStaticMarkup(e);this.staticRenderTime=Date.now()-r,console.error=t,""===n?this.staticMarkup=n:n&&(this.staticMarkup=document.createElement("span"),this.staticMarkup.innerHTML=n,this.eParentElement.appendChild(this.staticMarkup))}catch(e){}finally{console.error=t}}}removeStaticMarkup(){!this.parentComponent.isDisableStaticMarkup()&&this.componentType.cellRenderer&&this.staticMarkup&&(this.staticMarkup.remove?(this.staticMarkup.remove(),this.staticMarkup=null):this.eParentElement.removeChild&&(this.eParentElement.removeChild(this.staticMarkup),this.staticMarkup=null))}rendered(){return this.isNullValue()||!!this.staticMarkup||this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}}i.SLOW_RENDERING_THRESHOLD=3;class c extends n{constructor(e,t,r){super(e,t,r),this.oldPortal=null,this.key=o(),this.portalKey=o()}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new J.AgPromise(e=>this.createReactComponent(e))}createOrUpdatePortal(e){this.isStatelessComponent()||(e.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses()}),this.reactElement=Z.createElement(this.reactComponent,Object.assign(Object.assign({},e),{key:this.key})),this.portal=l.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createReactComponent(t){this.portalManager.mountReactPortal(this.portal,this,e=>{t(e)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}valueRenderedIsNull(e){if(this.componentType.cellRenderer){var t=console.error;try{return console.error=()=>{},""===s.renderToStaticMarkup(Z.createElement(this.reactComponent,e))}catch(e){}finally{console.error=t}}return!1}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){e=this[e+"Component"];if(e)return e.bind(this)(t)}fallbackMethodAvailable(e){return!!this[e+"Component"]}}class u{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.parent=e,this.maxComponentCreationTimeMs=r||u.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(e=>e!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||this.parent.forceUpdate(()=>{this.hasPendingPortalUpdate=!1})}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return e.isNullValue()?void t(e):void console.error(`AG Grid: React Component '${e.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms`);window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}}u.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;class C{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||C.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(e=>e!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return e.isNullValue()?void t(e):void console.error(`AG Grid: React Component '${e.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms`);window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}}C.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;const ee=Q.createContext({}),G=(e,s,a,o)=>{var l=!e||e.componentFromFramework||s.isDestroyed();if(!l){l=e.newAgStackInstance();if(l){let t,r,n=!1;return l.then(e=>{n?s.destroyBean(e):(t=e,r=t.getGui(),a.appendChild(r),p(o,t))}),()=>{n=!0,t&&(r&&r.parentElement&&r.parentElement.removeChild(r),s.destroyBean(t),o)&&p(o,void 0)}}}},p=(e,t)=>{e&&(e instanceof Function?e(t):e.current=t)},q=(...e)=>{return e.filter(e=>null!=e&&""!==e).join(" ")};class A{constructor(...e){this.classesMap={},e.forEach(e=>{this.classesMap[e]=!0})}setClass(e,t){var r;return!!this.classesMap[e]==t?this:((r=new A).classesMap=Object.assign({},this.classesMap),r.classesMap[e]=t,r)}toString(){return Object.keys(this.classesMap).filter(e=>this.classesMap[e]).join(" ")}}const te=e=>{return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115)},d=null!=r.createRoot&&null!=r.flushSync,D=(e,t)=>{d&&e?r.flushSync(t):t()};function F(t,r,e){if(null==r||null==t)return r;if(t===r||0===r.length&&0===t.length)return t;if(e||0===t.length&&0<r.length||0<t.length&&0===r.length)return r;var n=[],s=[],a=new Map,o=new Map;for(let e=0;e<r.length;e++){var l=r[e];o.set(l.getInstanceId(),l)}for(let e=0;e<t.length;e++){var i=t[e];a.set(i.getInstanceId(),i),o.has(i.getInstanceId())&&n.push(i)}for(let e=0;e<r.length;e++){var c=r[e],u=c.getInstanceId();a.has(u)||s.push(c)}return n.length===t.length&&0===s.length?t:0===n.length&&s.length===r.length?r:[...n,...s]}const N=Z.forwardRef((t,e)=>{const r=Z.useContext(ee).context,n=Z.useRef(null),s=Z.useRef(null),a=Z.useRef(null),o=Z.useRef(null),l=Z.useRef(null),i=Z.useRef(),[c,u]=Z.useState(),[p,d]=Z.useState(),[m,h]=Z.useState(),[C,g]=Z.useState(()=>new A),[f,R]=Z.useState(()=>new A("ag-hidden")),[E,v]=Z.useState(()=>new A("ag-hidden")),[y,S]=Z.useState(()=>new A("ag-invisible"));Z.useImperativeHandle(e,()=>({refresh(){return!1}})),Z.useLayoutEffect(()=>G(c,r,s.current),[c]);var e=Z.useCallback(e=>{n.current=e,n.current?(e={setInnerRenderer:(e,t)=>{u(e),h(t)},setChildCount:e=>d(e),addOrRemoveCssClass:(t,r)=>g(e=>e.setClass(t,r)),setContractedDisplayed:t=>v(e=>e.setClass("ag-hidden",!t)),setExpandedDisplayed:t=>R(e=>e.setClass("ag-hidden",!t)),setCheckboxVisible:t=>S(e=>e.setClass("ag-invisible",!t))},i.current=r.createBean(new J.GroupCellRendererCtrl),i.current.init(e,n.current,a.current,o.current,l.current,N,t)):(r.destroyBean(i.current),i.current=null)},[]),w=Z.useMemo(()=>"ag-cell-wrapper "+C.toString(),[C]),b=Z.useMemo(()=>"ag-group-expanded "+f.toString(),[f]),O=Z.useMemo(()=>"ag-group-contracted "+E.toString(),[E]),T=Z.useMemo(()=>"ag-group-checkbox "+y.toString(),[y]),M=c&&c.componentFromFramework,k=M?c.componentClass:void 0,I=null==c&&null!=m,P=J._.escapeString(m,!0);return Q.createElement("span",Object.assign({className:w,ref:e},t.colDef?{}:{role:"gridcell"}),Q.createElement("span",{className:b,ref:o}),Q.createElement("span",{className:O,ref:l}),Q.createElement("span",{className:T,ref:a}),Q.createElement("span",{className:"ag-group-value",ref:s},I&&Q.createElement(Q.Fragment,null,P),M&&Q.createElement(k,Object.assign({},c.params))),Q.createElement("span",{className:"ag-group-child-count"},p))});var g=Z.memo(e=>{const r=e["ctrl"],t=Z.useContext(ee)["context"];e=r.getColId();const[n,s]=Z.useState(),a=Z.useRef(null),o=Z.useRef(null),l=Z.useRef(null),i=Z.useRef();let c=Z.useRef();c.current||(c.current=new J.CssClassManager(()=>a.current));var u=Z.useCallback(e=>{var t;a.current=e,a.current&&(e={setWidth:e=>{a.current&&(a.current.style.width=e)},addOrRemoveCssClass:(e,t)=>c.current.addOrRemoveCssClass(e,t),setAriaDescription:e=>{a.current&&J._.setAriaDescription(a.current,e)},setAriaSort:e=>{a.current&&(e?J._.setAriaSort(a.current,e):J._.removeAriaSort(a.current))},setUserCompDetails:e=>s(e),getUserCompInstance:()=>i.current||void 0},r.setComp(e,a.current,o.current,l.current),e=r.getSelectAllGui(),null!=(t=o.current))&&t.insertAdjacentElement("afterend",e)},[]),p=(Z.useLayoutEffect(()=>G(n,t,l.current,i),[n]),Z.useEffect(()=>{r.setDragSource(a.current)},[n]),Z.useMemo(()=>{return!!((null===n||void 0===n?void 0:n.componentFromFramework)&&te(n.componentClass))},[n])),d=n&&n.componentFromFramework,m=n&&n.componentClass;return Q.createElement("div",{ref:u,className:"ag-header-cell","col-id":e,role:"columnheader",tabIndex:-1},Q.createElement("div",{ref:o,className:"ag-header-cell-resize",role:"presentation"}),Q.createElement("div",{ref:l,className:"ag-header-cell-comp-wrapper",role:"presentation"},d&&p&&Q.createElement(m,Object.assign({},n.params)),d&&!p&&Q.createElement(m,Object.assign({},n.params,{ref:i}))))}),f=Z.memo(e=>{const t=Z.useContext(ee)["context"],r=e["ctrl"],[n,s]=Z.useState(()=>new A),[a,o]=Z.useState(()=>new A),[l,i]=Z.useState("false"),[c,u]=Z.useState(),[p,d]=Z.useState();e=Z.useMemo(()=>r.getColId(),[]);const m=Z.useRef(null),h=Z.useRef(null);var C=Z.useCallback(e=>{m.current=e,m.current&&(e={setWidth:e=>{m.current&&(m.current.style.width=e)},addOrRemoveCssClass:(t,r)=>s(e=>e.setClass(t,r)),setUserCompDetails:e=>d(e),setResizableDisplayed:t=>{o(e=>e.setClass("ag-hidden",!t)),i(t?"false":"true")},setAriaExpanded:e=>u(e)},r.setComp(e,m.current,h.current))},[]),g=(Z.useLayoutEffect(()=>G(p,t,m.current),[p]),Z.useEffect(()=>{m.current&&r.setDragSource(m.current)},[p]),Z.useMemo(()=>"ag-header-group-cell "+n.toString(),[n])),f=Z.useMemo(()=>"ag-header-cell-resize "+a.toString(),[a]),R=p&&p.componentFromFramework,E=p&&p.componentClass;return Q.createElement("div",{ref:C,className:g,"col-id":e,role:"columnheader",tabIndex:-1,"aria-expanded":c},R&&Q.createElement(E,Object.assign({},p.params)),Q.createElement("div",{ref:h,"aria-hidden":l,className:f}))}),R=Z.memo(e=>{const t=Z.useContext(ee)["context"],[r,n]=Z.useState(()=>new A("ag-header-cell","ag-floating-filter")),[s,a]=Z.useState(()=>new A),[o,l]=Z.useState(()=>new A("ag-floating-filter-button","ag-hidden")),[i,c]=Z.useState("false"),[u,p]=Z.useState(),d=Z.useRef(null),m=Z.useRef(null);var h=Z.useRef(null);const C=Z.useRef(null),g=Z.useRef(),f=Z.useRef(),R=e=>{null!=e&&g.current&&g.current(e)},E=e["ctrl"];var e=Z.useCallback(e=>{d.current=e,d.current&&(f.current=new J.AgPromise(e=>{g.current=e}),e={addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),addOrRemoveBodyCssClass:(t,r)=>a(e=>e.setClass(t,r)),setButtonWrapperDisplayed:t=>{l(e=>e.setClass("ag-hidden",!t)),c(t?"false":"true")},setWidth:e=>{d.current&&(d.current.style.width=e)},setCompDetails:e=>p(e),getFloatingFilterComp:()=>f.current||null,setMenuIcon:e=>{var t;return null==(t=C.current)?void 0:t.appendChild(e)}},E.setComp(e,d.current,C.current,m.current))},[]),v=(Z.useLayoutEffect(()=>G(u,t,m.current,R),[u]),Z.useMemo(()=>r.toString(),[r])),y=Z.useMemo(()=>s.toString(),[s]),S=Z.useMemo(()=>o.toString(),[o]),w=Z.useMemo(()=>{return!!(u&&u.componentFromFramework&&te(u.componentClass))},[u]),b=u&&u.componentFromFramework,O=u&&u.componentClass;return Q.createElement("div",{ref:e,className:v,role:"gridcell",tabIndex:-1},Q.createElement("div",{ref:m,className:y,role:"presentation"},b&&w&&Q.createElement(O,Object.assign({},u.params)),b&&!w&&Q.createElement(O,Object.assign({},u.params,{ref:R}))),Q.createElement("div",{ref:h,"aria-hidden":i,className:S,role:"presentation"},Q.createElement("button",{ref:C,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))}),S=Z.memo(e=>{const t=e["ctrl"],{topOffset:r,rowHeight:n}=Z.useMemo(()=>t.getTopAndHeight(),[]);var e=t.getAriaRowIndex(),s=t.getHeaderRowClass();const a=Z.useMemo(()=>t.getTransform(),[]),[o,l]=Z.useState(()=>n+"px"),[i,c]=Z.useState(()=>r+"px"),[u,p]=Z.useState(()=>t.getHeaderCtrls()),d=Z.useRef(null);var m=Z.useCallback(e=>{(d.current=e)&&(e={setHeight:e=>l(e),setTop:e=>c(e),setHeaderCtrls:(t,r,e)=>{D(e,()=>{p(e=>F(e,t,r))})},setWidth:e=>{d.current&&(d.current.style.width=e)}},t.setComp(e,!1))},[]),h=Z.useMemo(()=>({transform:a,height:o,top:i}),[a,o,i]),C=Z.useCallback(e=>{switch(t.getType()){case J.HeaderRowType.COLUMN_GROUP:return Q.createElement(f,{ctrl:e,key:e.getInstanceId()});case J.HeaderRowType.FLOATING_FILTER:return Q.createElement(R,{ctrl:e,key:e.getInstanceId()});default:return Q.createElement(g,{ctrl:e,key:e.getInstanceId()})}},[]);return Q.createElement("div",{ref:m,className:s,role:"row",style:h,"aria-rowindex":e},u.map(C))}),m=Z.memo(t=>{const[e,r]=Z.useState(!0),[n,s]=Z.useState([]),a=Z.useContext(ee)["context"],o=Z.useRef(null),l=Z.useRef(null),i=Z.useRef(null);var c="left"===t.pinned,u="right"===t.pinned,p=!c&&!u,d=Z.useCallback(e=>{o.current=e,o.current?(e={setDisplayed:r,setCtrls:e=>s(e),setCenterWidth:e=>{l.current&&(l.current.style.width=e)},setViewportScrollLeft:e=>{o.current&&(o.current.scrollLeft=e)},setPinnedContainerWidth:e=>{o.current&&(o.current.style.width=e,o.current.style.minWidth=e,o.current.style.maxWidth=e)}},i.current=a.createBean(new J.HeaderRowContainerCtrl(t.pinned)),i.current.setComp(e,o.current)):(a.destroyBean(i.current),i.current=null)},[]),m=e?"":"ag-hidden",h=()=>n.map(e=>Q.createElement(S,{ctrl:e,key:e.getInstanceId()}));return Q.createElement(Q.Fragment,null,c&&Q.createElement("div",{ref:d,className:"ag-pinned-left-header "+m,"aria-hidden":!e,role:"presentation"},h()),u&&Q.createElement("div",{ref:d,className:"ag-pinned-right-header "+m,"aria-hidden":!e,role:"presentation"},h()),p&&Q.createElement("div",{ref:d,className:"ag-header-viewport "+m,role:"presentation"},Q.createElement("div",{ref:l,className:"ag-header-container",role:"rowgroup"},h())))}),X=Z.memo(()=>{const[e,n]=Z.useState(()=>new A),[t,r]=Z.useState(),s=Z.useContext(ee)["context"],a=Z.useRef(null),o=Z.useRef(null);var l=Z.useCallback(e=>{(a.current=e)?(e={addOrRemoveCssClass:(t,r)=>n(e=>e.setClass(t,r)),setHeightAndMinHeight:e=>r(e)},o.current=s.createBean(new J.GridHeaderCtrl),o.current.setComp(e,a.current,a.current)):(s.destroyBean(o.current),o.current=null)},[]),i=Z.useMemo(()=>{return"ag-header "+e.toString()},[e]),c=Z.useMemo(()=>({height:t,minHeight:t}),[t]);return Q.createElement("div",{ref:l,className:i,style:c,role:"presentation"},Q.createElement(m,{pinned:"left"}),Q.createElement(m,{pinned:null}),Q.createElement(m,{pinned:"right"}))});const z=(n,s)=>{Z.useEffect(()=>{var e=s.current;if(e){const t=e.parentElement;if(t){const r=document.createComment(n);return t.insertBefore(r,e),()=>{t.removeChild(r)}}}},[n])};var re=Z.memo(c=>{const[e,u]=Z.useState(),{context:p,popupService:d,localeService:m,gridOptionsService:h}=Z.useContext(ee);{var t=()=>{const{editDetails:e,cellCtrl:t,eParentCell:r}=c;var n=e["compDetails"],s=h.is("stopEditingWhenCellsLoseFocus");const a=p.createBean(new J.PopupEditorWrapper(n.params));var n=a.getGui(),o=(c.jsChildComp&&(o=c.jsChildComp.getGui())&&n.appendChild(o),{column:t.getColumn(),rowNode:t.getRowNode(),type:"popupCellEditor",eventSource:r,ePopup:n,position:e.popupPosition,keepWithinBounds:!0}),o=d.positionPopupByComponent.bind(d,o),l=m.getLocaleTextFunc(),s=d.addPopup({modal:s,eChild:n,closeOnEsc:!0,closedCallback:()=>{t.onPopupEditorClosed()},anchorToElement:r,positionCallback:o,ariaLabel:l("ariaLabelCellEditor","Cell Editor")});const i=s?s.hideFunc:void 0;return u(a),c.jsChildComp&&c.jsChildComp.afterGuiAttached&&c.jsChildComp.afterGuiAttached(),()=>{null!=i&&i(),p.destroyBean(a)}};const r=Z.useRef(t),n=Z.useRef(),s=Z.useRef(!1),a=Z.useRef(!1),[,o]=Z.useState(0);s.current&&(a.current=!0),Z.useEffect(()=>(s.current||(n.current=r.current(),s.current=!0),o(e=>e+1),()=>{a.current&&n.current&&n.current()}),[])}return Q.createElement(Q.Fragment,null,e&&c.wrappedContent&&l.createPortal(c.wrappedContent,e.getGui()))});var _=Z.memo(e=>{const s=Z.useContext(ee)["context"],{cellCtrl:u,printLayout:r,editingRow:n}=e;var e=u.getTabIndex(),t=u.getColumnIdSanitised();const p=u.getInstanceId(),[d,a]=Z.useState(()=>u.getIsCellRenderer()?void 0:{compDetails:void 0,value:u.getValueToDisplay(),force:!1}),[m,o]=Z.useState(),[h,_]=Z.useState(1),[x,B]=Z.useState(),[l,U]=Z.useState(!1),[i,L]=Z.useState(!1),[c,j]=Z.useState(!1),[H,C]=Z.useState(),g=Z.useMemo(()=>u.isForceWrapper(),[u]),f=Z.useRef(null),R=Z.useRef(null),E=Z.useRef(),v=Z.useRef(),y=Z.useRef(),S=Z.useRef([]),w=Z.useRef(),[W,V]=Z.useState(0),K=Z.useCallback(e=>{w.current=e,V(e=>e+1)},[]);var b=null!=d&&(l||c||i);const O=g||b,T=Z.useCallback((e,t)=>{if(v.current=t){var r=t,n=u,s=n.getColumn();if(!e&&r.isPopup&&r.isPopup()){const a=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;J._.doOnce(()=>console.warn(a),"jsEditorComp-isPopup-"+n.getColumn().getColId())}if(e&&r.getPopupPosition&&null!=r.getPopupPosition()){const o=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;J._.doOnce(()=>console.warn(o),"jsEditorComp-getPopupPosition-"+n.getColumn().getColId())}t.isCancelBeforeStart&&t.isCancelBeforeStart()&&setTimeout(()=>{u.stopEditing(!0),u.focusCell(!0)})}},[u]),$=Z.useCallback(e=>T(!0,e),[T]),Y=Z.useCallback(e=>T(!1,e),[T]);let M=Z.useRef();M.current||(M.current=new J.CssClassManager(()=>f.current));{var k=d,I=O,P=w.current,A=(b=W,E),q=f;const D=Z.useContext(ee)["context"],F=Z.useCallback(()=>{var e,t=A.current;t&&((e=t.getGui())&&e.parentElement&&e.parentElement.removeChild(e),D.destroyBean(t),A.current=void 0)},[]);Z.useEffect(()=>{var e=k&&k.compDetails&&!k.compDetails.componentFromFramework;if(null!=k&&e&&!(I&&null==P)){e=k.compDetails;if(A.current){const r=A.current;var t=null!=r.refresh&&0==k.force&&r.refresh(e.params);if(!0===t||void 0===t)return;F()}t=e.newAgStackInstance();if(t){const r=t.resolveNow(null,e=>e);r&&(e=r.getGui())&&((I?P:q.current).appendChild(e),A.current=r)}}else F()},[k,I,b]),Z.useEffect(()=>F,[])}const N=Z.useRef();Z.useLayoutEffect(()=>{var e=N.current,t=d;N.current=d,null!=e&&null!=e.compDetails&&null!=t&&null!=t.compDetails&&(e=e.compDetails,t=t.compDetails,e.componentClass==t.componentClass)&&null!=R.current&&null!=R.current.refresh&&1!=R.current.refresh(t.params)&&_(e=>e+1)},[d]),Z.useLayoutEffect(()=>{if(m&&!m.compDetails.componentFromFramework){var e=m.compDetails;const t=!0===m.popup,r=(e=>{e=e.newAgStackInstance();if(e)return e.resolveNow(null,e=>e)})(e);if(r){const n=r.getGui();return T(t,r),t||(null!=(e=(g?y:f).current)&&e.appendChild(n),r.afterGuiAttached&&r.afterGuiAttached()),C(r),()=>{s.destroyBean(r),T(t,void 0),C(void 0),n&&n.parentElement&&n.parentElement.removeChild(n)}}}},[m]);var b=Z.useCallback(e=>{y.current=e,y.current?(e=e=>{var t;if(e){const r=e.getGui();null!=(t=y.current)&&t.insertAdjacentElement("afterbegin",r),S.current.push(()=>{s.destroyBean(e),J._.removeFromParent(r)})}return e},l&&e(u.createSelectionCheckbox()),c&&e(u.createDndSource()),i&&e(u.createRowDragComp())):(S.current.forEach(e=>e()),S.current=[])},[u,s,c,i,l]),z=Z.useCallback(e=>{var t;f.current=e,f.current&&u&&(e={addOrRemoveCssClass:(e,t)=>M.current.addOrRemoveCssClass(e,t),setUserStyles:e=>B(e),getFocusableElement:()=>f.current,setIncludeSelection:e=>U(e),setIncludeRowDrag:e=>L(e),setIncludeDndSource:e=>j(e),getCellEditor:()=>v.current||null,getCellRenderer:()=>R.current||E.current,getParentOfValue:()=>w.current||y.current||f.current,setRenderDetails:(t,r,n)=>{a(e=>(null==e?void 0:e.compDetails)!==t||(null==e?void 0:e.value)!==r||(null==e?void 0:e.force)!==n?{value:r,compDetails:t,force:n}:e)},setEditDetails:(e,t,r)=>{e?(o({compDetails:e,popup:t,popupPosition:r}),t||a(void 0)):o(void 0)}},t=y.current||void 0,u.setComp(e,f.current,t,r,n))},[]);const X=Z.useMemo(()=>{return!!(d&&d.compDetails&&d.compDetails.componentFromFramework&&te(d.compDetails.componentClass))},[d]);Z.useLayoutEffect(()=>{var e;f.current&&(M.current.addOrRemoveCssClass("ag-cell-value",!O),M.current.addOrRemoveCssClass("ag-cell-inline-editing",!!m&&!m.popup),M.current.addOrRemoveCssClass("ag-cell-popup-editing",!!m&&!!m.popup),M.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!m||!!m.popup),null!=(e=u.getRowCtrl())&&e.setInlineEditingCss(!!m),u.shouldRestoreFocus())&&!u.isEditing()&&f.current.focus({preventScroll:!0})});var G=()=>{return Q.createElement(Q.Fragment,null,null!=d&&((e,t,r,n,s,a,o)=>{const{compDetails:l,value:i}=e,c=!l,u=l&&l.componentFromFramework,p=l&&l.componentClass,d=null!=i&&i.toString?i.toString():i;e=()=>Q.createElement(Q.Fragment,null,c&&Q.createElement(Q.Fragment,null,d),u&&!a&&Q.createElement(p,Object.assign({},l.params,{key:t,ref:n})),u&&a&&Q.createElement(p,Object.assign({},l.params,{key:t})));return Q.createElement(Q.Fragment,null,s?Q.createElement("span",{role:"presentation",id:"cell-"+r,className:"ag-cell-value",ref:o},e()):e())})(d,h,p,R,O,X,K),null!=m&&(e=m,t=Y,r=$,n=f.current,s=u,a=H,o=e.compDetails,l=o.componentClass,i=o.componentFromFramework&&!e.popup,c=o.componentFromFramework&&e.popup,o=!o.componentFromFramework&&e.popup,Q.createElement(Q.Fragment,null,i&&Q.createElement(l,Object.assign({},e.compDetails.params,{ref:t})),c&&Q.createElement(re,{editDetails:e,cellCtrl:s,eParentCell:n,wrappedContent:Q.createElement(l,Object.assign({},e.compDetails.params,{ref:r}))}),o&&a&&Q.createElement(re,{editDetails:e,cellCtrl:s,eParentCell:n,jsChildComp:a}))));var e,t,r,n,s,a,o,l,i,c};return Q.createElement("div",{ref:z,style:x,tabIndex:e,role:"gridcell","col-id":t},O?Q.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:b},G()):G())}),b=Z.memo(e=>{const t=Z.useContext(ee)["context"],{rowCtrl:r,containerType:n}=e;e=r.getTabIndex();const s=Z.useRef(r.getDomOrder());var a=r.isFullWidth();const o=r.getRowNode().displayed,[l,i]=Z.useState(()=>o?r.getRowIndex():null),[c,u]=Z.useState(()=>r.getRowId()),[p,d]=Z.useState(()=>r.getBusinessKey()),[m,h]=Z.useState(()=>r.getRowStyles()),[C,g]=Z.useState(()=>null),[f,R]=Z.useState(),[E,v]=Z.useState(()=>o?r.getInitialRowTop(n):void 0),[y,S]=Z.useState(()=>o?r.getInitialTransform(n):void 0),w=Z.useRef(null),b=Z.useRef(),O=Z.useRef(!1),[T,M]=Z.useState(0);Z.useEffect(()=>{var e;O.current||!f||10<T||((e=null==(e=w.current)?void 0:e.firstChild)?(r.setupDetailRowAutoHeight(e),O.current=!0):M(e=>e+1))},[f,T]);let k=Z.useRef();k.current||(k.current=new J.CssClassManager(()=>w.current));var I=Z.useCallback(e=>{w.current=e,w.current?r.isAlive()&&(e={setTop:v,setTransform:S,addOrRemoveCssClass:(e,t)=>k.current.addOrRemoveCssClass(e,t),setDomOrder:e=>s.current=e,setRowIndex:i,setRowId:u,setRowBusinessKey:d,setUserStyles:h,setCellCtrls:(t,e)=>{D(e,()=>{g(e=>F(e,t,s.current))})},showFullWidth:e=>R(e),getFullWidthCellRenderer:()=>b.current},r.setComp(e,w.current,n)):r.unsetComp(n)},[]),P=(Z.useLayoutEffect(()=>G(f,t,w.current,b),[f]),Z.useMemo(()=>{var e={top:E,transform:y};return Object.assign(e,m),e},[E,y,m])),A=a&&f&&f.componentFromFramework,a=!a&&null!=C;const N=Z.useMemo(()=>{return!!((null===f||void 0===f?void 0:f.componentFromFramework)&&te(f.componentClass))},[f]);return Q.createElement("div",{ref:I,role:"row",style:P,"row-index":l,"row-id":c,"row-business-key":p,tabIndex:e},a&&(null===C||void 0===C?void 0:C.map(e=>Q.createElement(_,{cellCtrl:e,editingRow:r.isEditing(),printLayout:r.isPrintLayout(),key:e.getInstanceId()}))),A&&(I=f.componentClass,Q.createElement(Q.Fragment,null,N&&Q.createElement(I,Object.assign({},f.params)),!N&&Q.createElement(I,Object.assign({},f.params,{ref:b})))))}),ne=Z.memo(e=>{const t=Z.useContext(ee)["context"],n=e["name"],r=Z.useMemo(()=>J.getRowContainerTypeForName(n),[n]),s=Z.useRef(null),a=Z.useRef(null),o=Z.useRef([]),[l,i]=Z.useState(()=>[]),c=Z.useRef(!1),u=Z.useRef(),p=Z.useMemo(()=>J.RowContainerCtrl.getRowContainerCssClasses(n),[n]);e=Z.useMemo(()=>q(p.viewport),[p]);const d=Z.useMemo(()=>q(p.container),[p]),m=n===J.RowContainerName.CENTER||n===J.RowContainerName.TOP_CENTER||n===J.RowContainerName.BOTTOM_CENTER||n===J.RowContainerName.STICKY_TOP_CENTER;var h=m?s:a;z(" AG Row Container "+n+" ",h);const C=Z.useCallback(()=>(!m||null!=s.current)&&null!=a.current,[]),g=Z.useCallback(()=>(!m||null==s.current)&&null==a.current,[]),f=Z.useCallback(()=>{if(g()&&(t.destroyBean(u.current),u.current=null),C()){const r=e=>{D(e,()=>{i(e=>F(e,o.current,c.current))})};var e={setViewportHeight:e=>{s.current&&(s.current.style.height=e)},setRowCtrls:(e,t)=>{t=t&&0<o.current.length&&0<e.length;o.current=e,r(t)},setDomOrder:e=>{c.current!=e&&(c.current=e,r(!1))},setContainerWidth:e=>{a.current&&(a.current.style.width=e)}};u.current=t.createBean(new J.RowContainerCtrl(n)),u.current.setComp(e,a.current,s.current)}},[C,g]),R=Z.useCallback(e=>{a.current=e,f()},[f]);var h=Z.useCallback(e=>{s.current=e,f()},[f]),E=()=>Q.createElement("div",{className:d,ref:R,role:l.length?"rowgroup":"presentation"},l.map(e=>Q.createElement(b,{rowCtrl:e,containerType:r,key:e.getInstanceId()})));return Q.createElement(Q.Fragment,null,m?Q.createElement("div",{className:e,ref:h,role:"presentation"},E()):E())}),k=Z.memo(()=>{const{context:r,agStackComponentsRegistry:n,resizeObserverService:s}=Z.useContext(ee),[e,a]=Z.useState(""),[t,o]=Z.useState(0),[l,i]=Z.useState(0),[c,u]=Z.useState("0px"),[p,d]=Z.useState("0px"),[m,h]=Z.useState("100%"),[C,g]=Z.useState(""),[f,R]=Z.useState(""),[E,v]=Z.useState(null),[y,S]=Z.useState(""),[w,b]=Z.useState(null),[O,_]=Z.useState("ag-layout-normal");let T=Z.useRef();T.current||(T.current=new J.CssClassManager(()=>M.current));const M=Z.useRef(null),k=Z.useRef(null),I=Z.useRef(null),P=Z.useRef(null),A=Z.useRef(null),N=Z.useRef(null),G=Z.useRef([]),D=Z.useRef([]);z(" AG Grid Body ",M),z(" AG Pinned Top ",k),z(" AG Sticky Top ",I),z(" AG Middle ",A),z(" AG Pinned Bottom ",N);var x=Z.useCallback(e=>{var t;M.current=e,M.current?r&&(e=e=>{e=n.getComponentClass(e),e=r.createBean(new e);return G.current.push(e),e},(t=(e,t)=>{e.appendChild(t),D.current.push(()=>e.removeChild(t))})(M.current,document.createComment(" AG Fake Horizontal Scroll ")),t(M.current,e("AG-FAKE-HORIZONTAL-SCROLL").getGui()),t(M.current,document.createComment(" AG Overlay Wrapper ")),t(M.current,e("AG-OVERLAY-WRAPPER").getGui()),P.current&&(t(P.current,document.createComment(" AG Fake Vertical Scroll ")),t(P.current,e("AG-FAKE-VERTICAL-SCROLL").getGui())),t={setRowAnimationCssOnBodyViewport:a,setColumnCount:e=>{M.current&&J._.setAriaColCount(M.current,e)},setRowCount:e=>{M.current&&J._.setAriaRowCount(M.current,e)},setTopHeight:o,setBottomHeight:i,setStickyTopHeight:u,setStickyTopTop:d,setStickyTopWidth:h,setTopDisplay:g,setBottomDisplay:R,setColumnMovingCss:(e,t)=>T.current.addOrRemoveCssClass(e,t),updateLayoutClasses:_,setAlwaysVerticalScrollClass:v,setPinnedTopBottomOverflowY:S,setCellSelectableCss:(e,t)=>b(t?e:null),setBodyViewportWidth:e=>{A.current&&(A.current.style.width=e)},registerBodyViewportResizeListener:e=>{if(A.current){const t=s.observeResize(A.current,e);D.current.push(()=>t())}}},e=r.createBean(new J.GridBodyCtrl),G.current.push(e),e.setComp(t,M.current,A.current,k.current,N.current,I.current)):(r.destroyBeans(G.current),D.current.forEach(e=>e()),G.current=[],D.current=[])},[]),B=Z.useMemo(()=>q("ag-root","ag-unselectable",O),[O]),U=Z.useMemo(()=>q("ag-body-viewport",e,O,E,w),[e,O,E,w]),L=Z.useMemo(()=>q("ag-body",O),[O]),j=Z.useMemo(()=>q("ag-floating-top",w),[w]),H=Z.useMemo(()=>q("ag-sticky-top",w),[w]),W=Z.useMemo(()=>q("ag-floating-bottom",w),[w]),V=Z.useMemo(()=>({height:t,minHeight:t,display:C,overflowY:y}),[t,C,y]),K=Z.useMemo(()=>({height:c,top:p,width:m}),[c,p,m]),$=Z.useMemo(()=>({height:l,minHeight:l,display:f,overflowY:y}),[l,f,y]);const Y=e=>Q.createElement(ne,{name:e,key:e+"-container"});var F=({section:e,children:t,className:r,style:n})=>Q.createElement("div",{ref:e,className:r,role:"presentation",style:n},t.map(Y));return Q.createElement("div",{ref:x,className:B,role:"treegrid"},Q.createElement(X,null),F({section:k,className:j,style:V,children:[J.RowContainerName.TOP_LEFT,J.RowContainerName.TOP_CENTER,J.RowContainerName.TOP_RIGHT,J.RowContainerName.TOP_FULL_WIDTH]}),Q.createElement("div",{className:L,ref:P,role:"presentation"},F({section:A,className:U,children:[J.RowContainerName.LEFT,J.RowContainerName.CENTER,J.RowContainerName.RIGHT,J.RowContainerName.FULL_WIDTH]})),F({section:I,className:H,style:K,children:[J.RowContainerName.STICKY_TOP_LEFT,J.RowContainerName.STICKY_TOP_CENTER,J.RowContainerName.STICKY_TOP_RIGHT,J.RowContainerName.STICKY_TOP_FULL_WIDTH]}),F({section:N,className:W,style:$,children:[J.RowContainerName.BOTTOM_LEFT,J.RowContainerName.BOTTOM_CENTER,J.RowContainerName.BOTTOM_RIGHT,J.RowContainerName.BOTTOM_FULL_WIDTH]}))}),h=Z.forwardRef((e,t)=>{const{children:r,eFocusableElement:n,onTabKeyDown:s,gridCtrl:a}=e,o=Z.useContext(ee)["context"],l=Z.useRef(null),i=Z.useRef(null),c=Z.useRef(),u=e=>{const r=null==e?void 0:parseInt(e,10).toString();[l,i].forEach(e=>{var t;void 0===r?null!=(t=e.current)&&t.removeAttribute("tabindex"):null!=(t=e.current)&&t.setAttribute("tabindex",r)})},p=(Z.useImperativeHandle(t,()=>({forceFocusOutOfContainer(){var e;null!=(e=c.current)&&e.forceFocusOutOfContainer()}})),Z.useCallback(()=>{var e;l.current||i.current?l.current&&i.current&&(e={setTabIndex:u},c.current=o.createBean(new J.TabGuardCtrl({comp:e,eTopGuard:l.current,eBottomGuard:i.current,eFocusableElement:n,onTabKeyDown:s,focusInnerElement:e=>a.focusInnerElement(e)}))):(o.destroyBean(c.current),c.current=null)},[])),d=Z.useCallback(e=>{l.current=e,p()},[p]),m=Z.useCallback(e=>{i.current=e,p()},[p]);e=e=>{var t="top"===e?J.TabGuardClassNames.TAB_GUARD_TOP:J.TabGuardClassNames.TAB_GUARD_BOTTOM;return Q.createElement("div",{className:J.TabGuardClassNames.TAB_GUARD+" "+t,role:"presentation",ref:"top"===e?d:m})};return Q.createElement(Q.Fragment,null,e("top"),r,e("bottom"))}),I=Z.memo(h),O=Z.memo(({context:u})=>{const[e,r]=Z.useState(""),[t,n]=Z.useState(""),[s,a]=Z.useState(""),[o,l]=Z.useState(null),[i,c]=Z.useState(null),[p,d]=Z.useState(!1),[m,h]=Z.useState(),C=Z.useRef(null),g=Z.useRef(null),f=Z.useRef(),[R,E]=Z.useState(null),v=Z.useRef(()=>{});var y=Z.useCallback(()=>{},[]);const S=Z.useMemo(()=>u.isDestroyed()?null:u.getBean("beans"),[u]);z(" AG Grid ",g);var w=Z.useCallback(e=>{var t;g.current=e,g.current?u.isDestroyed()||(C.current=u.createBean(new J.GridCtrl),e=C.current,v.current=e.focusInnerElement.bind(e),t={destroyGridUi:()=>{},setRtlClass:r,addOrRemoveKeyboardFocusClass:e=>n(e?J.FocusService.AG_KEYBOARD_FOCUS:""),forceFocusOutOfContainer:()=>{var e;null!=(e=f.current)&&e.forceFocusOutOfContainer()},updateLayoutClasses:a,getFocusableContainers:()=>{var e=[],t=null==(t=g.current)?void 0:t.querySelector(".ag-root"),r=null==(r=g.current)?void 0:r.querySelector(".ag-side-bar:not(.ag-hidden)");return t&&e.push(t),r&&e.push(r),e},setCursor:l,setUserSelect:c},e.setComp(t,g.current,g.current),d(!0)):(u.destroyBean(C.current),C.current=null)},[]),b=(Z.useEffect(()=>{if(m&&S&&C.current&&R&&g.current){var e=C.current;const i=[];var t=S["agStackComponentsRegistry"],r=t.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),n=t.getComponentClass("AG-SIDE-BAR"),s=t.getComponentClass("AG-STATUS-BAR"),a=t.getComponentClass("AG-WATERMARK"),t=t.getComponentClass("AG-PAGINATION");const c=[];var o,l=g.current;return e.showDropZones()&&r&&(o=(r=u.createBean(new r)).getGui(),l.insertAdjacentElement("afterbegin",o),c.push(o),i.push(r)),e.showSideBar()&&n&&(r=(o=u.createBean(new n)).getGui(),(n=R.querySelector(".ag-tab-guard-bottom"))&&(n.insertAdjacentElement("beforebegin",r),c.push(r)),i.push(o)),e.showStatusBar()&&s&&(r=(n=u.createBean(new s)).getGui(),l.insertAdjacentElement("beforeend",r),c.push(r),i.push(n)),t&&(s=(o=u.createBean(new t)).getGui(),l.insertAdjacentElement("beforeend",s),c.push(s),i.push(o)),e.showWatermark()&&a&&(n=(r=u.createBean(new a)).getGui(),l.insertAdjacentElement("beforeend",n),c.push(n),i.push(r)),()=>{u.destroyBeans(i),c.forEach(e=>{e.parentElement&&e.parentElement.removeChild(e)})}}},[m,R,S]),Z.useMemo(()=>q("ag-root-wrapper",e,t,s),[e,t,s])),O=Z.useMemo(()=>q("ag-root-wrapper-body","ag-focus-managed",s),[s]),T=Z.useMemo(()=>({userSelect:null!=i?i:"",WebkitUserSelect:null!=i?i:"",cursor:null!=o?o:""}),[i,o]),M=Z.useCallback(e=>{f.current=e,h(null!==e)},[]);return Q.createElement("div",{ref:w,className:b,style:T,role:"presentation"},Q.createElement("div",{className:O,ref:E,role:"presentation"},p&&R&&S&&Q.createElement(ee.Provider,{value:S},Q.createElement(I,{ref:M,eFocusableElement:R,onTabKeyDown:y,gridCtrl:C.current},Q.createElement(k,null)))))});const w=o=>{const l=Z.useRef(null),t=Z.useRef(null),r=Z.useRef(null),n=Z.useRef([]),s=Z.useRef([]),e=Z.useRef(o),a=Z.useRef(!1),[i,c]=Z.useState(void 0),u=Z.useCallback(e=>{e.rowDataChangeDetectionStrategy&&J._.doOnce(()=>console.warn("AG Grid: Since v29 rowDataChangeDetectionStrategy has been deprecated. Row data property changes will be compared by reference via triple equals ===. See https://ag-grid.com/react-data-grid/react-hooks/"),"rowDataChangeDetectionStrategy_Deprecation")},[]),[,p]=Z.useState(0);var d=Z.useCallback(e=>{t.current=e,t.current?(e=o.modules||[],r.current||(r.current=new C(()=>p(e=>e+1),o.componentWrappingElement,o.maxComponentCreationTimeMs),n.current.push(()=>{var e;null!=(e=r.current)&&e.destroy(),r.current=null})),e={providedBeanInstances:{frameworkComponentWrapper:new T(r.current)},modules:e,frameworkOverrides:new E(!0)},l.current=o.gridOptions||{},l.current=J.ComponentUtil.copyAttributesToGridOptions(l.current,o),u(o),(new J.GridCoreCreator).create(t.current,l.current,t=>{c(t),n.current.push(()=>{t.destroy()}),t.getBean(J.CtrlsService.NAME).whenReady(()=>{var e;t.isDestroyed()||l.current&&(e=l.current.api)&&o.setGridApi&&o.setGridApi(e,l.current.columnApi)})},e=>{e.getBean(J.CtrlsService.NAME).whenReady(()=>{s.current.forEach(e=>e()),s.current.length=0,a.current=!0})},e)):(n.current.forEach(e=>e()),n.current.length=0)},[]),m=Z.useMemo(()=>Object.assign({height:"100%"},o.containerStyle||{}),[o.containerStyle]);const h=Z.useCallback(e=>{a.current?e():s.current.push(e)},[]);return Z.useEffect(()=>{const t={};{var r=e.current,n=o,s=t;const a=!!n.debug;Object.keys(n).forEach(e=>{J.ComponentUtil.ALL_PROPERTIES_SET.has(e)&&r[e]!==n[e]&&(a&&console.log(` agGridReact: [${e}] property changed`),s[e]={previousValue:r[e],currentValue:n[e]})}),J.ComponentUtil.EVENT_CALLBACKS.forEach(e=>{r[e]!==n[e]&&(a&&console.log(`agGridReact: [${e}] event callback changed`),s[e]={previousValue:r[e],currentValue:n[e]})})}e.current=o,h(()=>{var e;null!=(e=l.current)&&e.api&&J.ComponentUtil.processOnChange(t,l.current.api)})},[o]),Q.createElement("div",{style:m,className:o.className,ref:d},i&&!i.isDestroyed()?Q.createElement(O,{context:i}):null,null!=(d=null==(m=r.current)?void 0:m.getPortals())?d:null)};class T extends J.BaseComponentWrapper{constructor(e){super(),this.parent=e}createWrapper(e,t){return new c(e,this.parent,t)}}var M=Z.forwardRef((r,e)=>{const{ctrlsFactory:n,context:s,gridOptionsService:a,resizeObserverService:o,clientSideRowModel:l,serverSideRowModel:i}=Z.useContext(ee),[t,c]=Z.useState(()=>new A),[u,p]=Z.useState(()=>new A),[d,m]=Z.useState(),[h,C]=Z.useState(),g=Z.useRef(),f=Z.useRef(null),R=Z.useRef();var E=Z.useMemo(()=>J.ModuleRegistry.__getGridRegisteredModules(r.api.getGridId()),[r]),v=Z.useMemo(()=>t.toString()+" ag-details-row",[t]),y=Z.useMemo(()=>u.toString()+" ag-details-grid",[u]),e=(e&&Z.useImperativeHandle(e,()=>({refresh(){var e;return null!=(e=null==(e=g.current)?void 0:e.refresh())&&e}})),r.template&&J._.doOnce(()=>console.warn("AG Grid: detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/"),"React_detailCellRenderer.template"),Z.useCallback(e=>{var t;f.current=e,f.current?(e={addOrRemoveCssClass:(t,r)=>c(e=>e.setClass(t,r)),addOrRemoveDetailGridCssClass:(t,r)=>p(e=>e.setClass(t,r)),setDetailGrid:e=>m(e),setRowData:e=>C(e),getGui:()=>f.current},(t=n.getInstance("detailCellRenderer"))&&(s.createBean(t),t.init(e,r),g.current=t,a.is("detailRowAutoHeight"))&&(e=()=>{if(null!=f.current){const e=f.current.clientHeight;null!=e&&0<e&&setTimeout(()=>{r.node.setRowHeight(e),l?l.onRowHeightChanged():i&&i.onRowHeightChanged()},0)}},R.current=o.observeResize(f.current,e),e())):(s.destroyBean(g.current),R.current&&R.current())},[])),S=Z.useCallback((e,t)=>{var r;null!=(r=g.current)&&r.registerDetailWithMaster(e,t)},[]);return Q.createElement("div",{className:v,ref:e},d&&Q.createElement(w,Object.assign({className:y},d,{modules:E,rowData:h,setGridApi:S})))});class E extends J.VanillaFrameworkOverrides{constructor(e){super(),this.frameworkComponents={agGroupCellRenderer:N,agGroupRowRenderer:N,agDetailCellRenderer:M},this.reactUi=e,this.renderingEngine=e?"react":"vanilla"}frameworkComponent(e){if(this.reactUi)return this.frameworkComponents[e]}isFrameworkComponent(e){return!(!e||(e=e.prototype)&&"getGui"in e)}}class v extends Z.Component{constructor(e){super(e),this.props=e,this.api=null,this.destroyed=!1,this.SYNCHRONOUS_CHANGE_PROPERTIES=["context"],this.portalManager=new u(this,e.componentWrappingElement,e.maxComponentCreationTimeMs)}render(){return Q.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:e=>{this.eGridDiv=e}},this.portalManager.getPortals())}createStyleForDiv(){return Object.assign({height:"100%"},this.props.containerStyle||{})}componentDidMount(){var e=this.props.modules||[],e={providedBeanInstances:{agGridReact:this,frameworkComponentWrapper:new P(this,this.portalManager)},modules:e,frameworkOverrides:new E(!1)},t=this.props.gridOptions||{};this.gridOptions=J.ComponentUtil.copyAttributesToGridOptions(t,this.props),this.checkForDeprecations(this.props),new J.Grid(this.eGridDiv,this.gridOptions,e),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi)}checkForDeprecations(e){e.rowDataChangeDetectionStrategy&&J._.doOnce(()=>console.warn("AG Grid: Since v29 rowDataChangeDetectionStrategy has been deprecated. Row data property changes will be compared by reference via triple equals ===. See https://ag-grid.com/react-data-grid/react-hooks/"),"rowDataChangeDetectionStrategy_Deprecation")}shouldComponentUpdate(e){return this.processPropsChanges(this.props,e),!1}componentDidUpdate(e){this.processPropsChanges(e,this.props)}processPropsChanges(e,t){var r={};this.extractGridPropertyChanges(e,t,r),this.processSynchronousChanges(r),this.processAsynchronousChanges(r)}extractGridPropertyChanges(t,r,n){const s=!!r.debug;Object.keys(r).forEach(e=>{J.ComponentUtil.ALL_PROPERTIES_SET.has(e)&&t[e]!==r[e]&&(s&&console.log(`agGridReact: [${e}] property changed`),n[e]={previousValue:t[e],currentValue:r[e]})}),J.ComponentUtil.EVENT_CALLBACKS.forEach(e=>{t[e]!==r[e]&&(s&&console.log(`agGridReact: [${e}] event callback changed`),n[e]={previousValue:t[e],currentValue:r[e]})})}componentWillUnmount(){this.api&&(this.api.destroy(),this.api=null),this.destroyed=!0,this.portalManager.destroy()}isDisableStaticMarkup(){return!0===this.props.disableStaticMarkup}isLegacyComponentRendering(){return!0===this.props.legacyComponentRendering}processSynchronousChanges(e){const t=Object.assign({},e);if(0<Object.keys(t).length){const r={};this.SYNCHRONOUS_CHANGE_PROPERTIES.forEach(e=>{t[e]&&(r[e]=t[e],delete t[e])}),0<Object.keys(r).length&&this.api&&J.ComponentUtil.processOnChange(r,this.api)}return t}processAsynchronousChanges(e){0<Object.keys(e).length&&window.setTimeout(()=>{this.api&&J.ComponentUtil.processOnChange(e,this.api)})}}function y(e,t){e.forEach(e=>{v[e]=t})}v.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,v.defaultProps={legacyComponentRendering:!1,disableStaticMarkup:!1,maxComponentCreationTimeMs:v.MAX_COMPONENT_CREATION_TIME_IN_MS},v.propTypes={gridOptions:t.object},y(J.ComponentUtil.EVENT_CALLBACKS,t.func),y(J.ComponentUtil.BOOLEAN_PROPERTIES,t.bool),y(J.ComponentUtil.STRING_PROPERTIES,t.string),y(J.ComponentUtil.OBJECT_PROPERTIES,t.object),y(J.ComponentUtil.ARRAY_PROPERTIES,t.array),y(J.ComponentUtil.NUMBER_PROPERTIES,t.number),y(J.ComponentUtil.FUNCTION_PROPERTIES,t.func);class P extends J.BaseComponentWrapper{constructor(e,t){super(),this.agGridReact=e,this.portalManager=t}createWrapper(e,t){return this.agGridReact.isLegacyComponentRendering()?new i(e,this.agGridReact,this.portalManager,t):new c(e,this.portalManager,t)}}class x extends Z.Component{constructor(){super(...arguments),this.setGridApi=(e,t)=>{this.api=e,this.columnApi=t}}render(){return this.props.suppressReactUi?Q.createElement(v,Object.assign({},this.props,{setGridApi:this.setGridApi})):Q.createElement(w,Object.assign({},this.props,{setGridApi:this.setGridApi}))}}(h=e.ChangeDetectionStrategyType||(e.ChangeDetectionStrategyType={})).IdentityCheck="IdentityCheck",h.DeepValueCheck="DeepValueCheck",h.NoCheck="NoCheck",e.AgGridReact=x,e.AgGridReactLegacy=v,e.AgGridReactFire=w,Object.defineProperty(e,"__esModule",{value:!0})});
